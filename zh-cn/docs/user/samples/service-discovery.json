{
  "filename": "service-discovery.md",
  "__html": "<h1>Dubbogo 3.0 应用级服务发现</h1>\n<p>参考文章<a href=\"https://baijiahao.baidu.com/s?id=1669266413887039723&amp;wfr=spider&amp;for=pc\"><strong>《Dubbo 迈出云原生重要一步 应用级服务发现解析》</strong></a></p>\n<p>参考仓库：<a href=\"https://github.com/apache/dubbo-go-samples/tree/master/registry/servicediscovery\">dubbo-go-samples/registry/serivcediscovery</a></p>\n<h2>配置方案</h2>\n<ul>\n<li>Consumer 端</li>\n</ul>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">dubbo:</span>\n  <span class=\"hljs-attr\">registries:</span>\n    <span class=\"hljs-attr\">demoZK:</span>\n      <span class=\"hljs-attr\">protocol:</span> <span class=\"hljs-string\">nacos</span>\n      <span class=\"hljs-attr\">address:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:8848</span>\n      <span class=\"hljs-attr\">registry-type:</span> <span class=\"hljs-string\">service</span> <span class=\"hljs-comment\"># 指定该注册中心为应用级服务发现，不填默认为接口级</span>\n  <span class=\"hljs-attr\">metadata-report:</span> <span class=\"hljs-comment\"># 定义元数据中心</span>\n    <span class=\"hljs-attr\">protocol:</span> <span class=\"hljs-string\">nacos</span> <span class=\"hljs-comment\"># 元数据中心可选nacos/zk</span>\n    <span class=\"hljs-attr\">address:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:8848</span>\n  <span class=\"hljs-attr\">consumer:</span>\n    <span class=\"hljs-attr\">references:</span>\n      <span class=\"hljs-attr\">GreeterClientImpl:</span>\n        <span class=\"hljs-attr\">protocol:</span> <span class=\"hljs-string\">tri</span>\n        <span class=\"hljs-attr\">interface:</span> <span class=\"hljs-string\">com.apache.dubbo.sample.basic.IGreeter</span> \n</code></pre>\n<ul>\n<li>Provider 端</li>\n</ul>\n<pre><code class=\"language-yaml\"><span class=\"hljs-attr\">dubbo:</span>\n  <span class=\"hljs-attr\">registries:</span>\n    <span class=\"hljs-attr\">demoZK:</span>\n      <span class=\"hljs-attr\">protocol:</span> <span class=\"hljs-string\">nacos</span>\n      <span class=\"hljs-attr\">address:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:8848</span>\n      <span class=\"hljs-attr\">registry-type:</span> <span class=\"hljs-string\">service</span> <span class=\"hljs-comment\"># 指定该注册中心为应用级服务发现，不填默认为接口级</span>\n  <span class=\"hljs-attr\">metadata-report:</span> <span class=\"hljs-comment\"># 定义元数据中心</span>\n    <span class=\"hljs-attr\">protocol:</span> <span class=\"hljs-string\">nacos</span> <span class=\"hljs-comment\"># 元数据中心可选nacos/zk</span>\n    <span class=\"hljs-attr\">address:</span> <span class=\"hljs-number\">127.0</span><span class=\"hljs-number\">.0</span><span class=\"hljs-number\">.1</span><span class=\"hljs-string\">:8848</span> \n  <span class=\"hljs-attr\">protocols:</span>\n    <span class=\"hljs-attr\">triple:</span>\n      <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">tri</span>\n      <span class=\"hljs-attr\">port:</span> <span class=\"hljs-number\">20000</span>\n  <span class=\"hljs-attr\">provider:</span>\n    <span class=\"hljs-attr\">services:</span>\n      <span class=\"hljs-attr\">GreeterProvider:</span>\n        <span class=\"hljs-attr\">interface:</span> <span class=\"hljs-string\">com.apache.dubbo.sample.basic.IGreeter</span> \n</code></pre>\n<p>相比于常规配置，定义好registry-type: service, 并且定义好元数据中心后，将会使用应用级服务注册/服务发现。</p>\n<p>下一章: <a href=\"./mesh_router.html\">【路由规则】</a></p>\n",
  "link": "/zh-cn/docs/user/samples/service-discovery.html",
  "meta": {
    "title": "dubbogo 3.0 应用级服务发现",
    "keywords": "dubbogo 3.0 应用级服务发现",
    "description": "dubbogo 3.0 应用级服务发现"
  }
}