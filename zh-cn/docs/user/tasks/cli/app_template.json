{
  "filename": "app_template.md",
  "__html": "<h1>使用 Dubbo-go 应用模板</h1>\n<h2>1. 准备工作</h2>\n<ul>\n<li>dubbo-go cli 工具和依赖工具已安装</li>\n</ul>\n<h2>2. 使用 dubbogo-cli 创建项目模板</h2>\n<p>运行 <code>dubbogo-cli newApp .</code></p>\n<pre><code class=\"language-plain\">$ mkdir cli-create-server\n$ cd cli-create-server\n$ dubbogo-cli newApp . \n$  tree .\n.\n├── Makefile\n├── api\n│   └── api.proto\n├── build\n│   └── Dockerfile\n├── chart\n│   ├── app\n│   │   ├── Chart.yaml\n│   │   ├── templates\n│   │   │   ├── _helpers.tpl\n│   │   │   ├── deployment.yaml\n│   │   │   ├── service.yaml\n│   │   │   └── serviceaccount.yaml\n│   │   └── values.yaml\n│   └── nacos_env\n│       ├── Chart.yaml\n│       ├── templates\n│       │   ├── _helpers.tpl\n│       │   ├── deployment.yaml\n│       │   └── service.yaml\n│       └── values.yaml\n├── cmd\n│   └── app.go\n├── conf\n│   └── dubbogo.yaml\n├── go.mod\n├── go.sum\n└── pkg\n    └── service\n        └── service.go\n</code></pre>\n<p>生成项目包括几个目录：</p>\n<ul>\n<li>\n<p>api：放置接口文件：proto文件和生成的pb.go文件</p>\n</li>\n<li>\n<p>build：放置构建相关文件</p>\n</li>\n<li>\n<p>chart：放置发布用 chart 包、基础环境 chart 包：nacos、mesh（开发中）</p>\n</li>\n<li>\n<p>cmd：程序入口</p>\n</li>\n<li>\n<p>conf：框架配置</p>\n</li>\n<li>\n<p>pkg/service：RPC 服务实现</p>\n</li>\n<li>\n<p>Makefile：</p>\n<ul>\n<li>\n<p>镜像、应用名：</p>\n<ul>\n<li>\n<p>IMAGE = <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>(</mo><mi>y</mi><mi>o</mi><mi>u</mi><msub><mi>r</mi><mi>r</mi></msub><mi>e</mi><mi>p</mi><mi>o</mi><mo>)</mo><mi mathvariant=\"normal\">/</mi></mrow><annotation encoding=\"application/x-tex\">(your_repo)/</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">y</span><span class=\"mord mathit\">o</span><span class=\"mord mathit\">u</span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"vlist\"><span style=\"top:0.15em;margin-right:0.05em;margin-left:-0.02778em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle scriptstyle cramped\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span><span class=\"mord mathit\">e</span><span class=\"mord mathit\">p</span><span class=\"mord mathit\">o</span><span class=\"mclose\">)</span><span class=\"mord mathrm\">/</span></span></span></span>(namespace)/$(image_name)\nTAG = 1.0.0</p>\n</li>\n<li>\n<p>APPNAME = dubbo-go-app # 用于 helm 发布，对应 chart 名、应用名和服务名（service名）</p>\n</li>\n</ul>\n</li>\n<li>\n<p>提供脚本，例如：</p>\n<ul>\n<li>\n<p>make build # 打包镜像并推送</p>\n</li>\n<li>\n<p>make buildx-publish # arm 架构本地打包amd64镜像并推送，依赖 docker buildx</p>\n</li>\n<li>\n<p>make deploy  # 通过 helm 发布应用</p>\n</li>\n<li>\n<p>make remove  # 删除已经发布的 helm 应用</p>\n</li>\n<li>\n<p>make proto-gen # api/ 下生成 pb.go 文件</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n",
  "link": "/zh-cn/docs/user/tasks/cli/app_template.html",
  "meta": {
    "title": "使用 Dubbo-go 应用模板",
    "keywords": "使用 Dubbo-go 应用模板",
    "description": "使用 Dubbo-go 应用模板"
  }
}